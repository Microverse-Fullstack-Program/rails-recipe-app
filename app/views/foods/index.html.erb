
<div id="foods">
  <div class="list-heading">
    <h1>Foods List</h1>
    <div class="add-btn">
      <%= link_to "Add Food", new_food_path, data: { turbo_frame: "add_food_modal"} %>
    </div>
  </div>

  <hr>

  <div class="list-foods">
    <% if @foods.empty?%>
      <h2 style="color: blue; margin-top: 45px;">
        There are no foods in the database for the user.
      </h2>
    <% else %>
      <p>
        <% if notice == "Food was successfully created." %>
          <span style="color: green"> <%= notice %> </span>
        <% elsif alert.present? %>
         <span style="color: red"> <%= alert %> </span>
        <% end %>
      </p>
      <table class="table table-striped table-ligth">
        <thead>
          <tr>
            <th>#</th>
            <th>Food</th>
            <th>Measurement Unit</th>
            <th>Price</th>
            <th class="food-action">Action</th>
          </tr>
        </thead>
        <tbody>
          <% @foods.each_with_index do |food, index| %>
            <tr>
              <td><%= index + 1 %></td>
              <td><%= food.name %></td>
              <td><%= food.measurement_unit %></td>
              <td><%= food.price %></td>
              <td class="food-action">
                <span> <%= link_to "Modify", edit_food_path(food), class: "btn btn-danger"%> </span>
                <span> <%= link_to "Delete", food, class: "btn btn-danger", method: :delete, data: { "turbo-method": :delete, turbo_confirm: "Are you sure?" } %></span>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>
